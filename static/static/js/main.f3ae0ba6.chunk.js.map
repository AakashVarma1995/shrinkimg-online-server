{"version":3,"sources":["App.js","index.js"],"names":["useStyles","createUseStyles","root","position","background","backgroundSize","backgroundPosition","backgroundImage","minHeight","minWidth","top","left","zIndex","overlay","content","display","placeItems","centerCard","padding","borderRadius","gridTemplateColumns","alignItems","footer","bottom","color","textAlign","paddingTop","paddingBottom","width","leftContainer","marginRight","rightContainer","selectedImage","height","imageName","paddinTop","paddinBottom","overflow","colName","inputNum","border","outline","fontFamily","fontSize","margin","uploadBtn","cursor","downloadBtn","transition","justifyContent","inputCol","errorBox","maxWidth","gridColumn","App","classes","useState","selectedImg","setSelectedImg","seletedFileName","setSelectedFileName","setWidth","setHeight","quality","setQuality","error","setError","isLoading","setIsLoading","className","style","type","id","accept","onChange","e","file","target","files","name","length","substring","reader","FileReader","readAsDataURL","onloadend","result","handleChangeFile","for","value","max","min","marginTop","src","onClick","fetch","method","body","JSON","stringify","image","headers","then","response","json","data","url","link","document","createElement","href","setAttribute","file_name","appendChild","click","removeChild","pointerEvents","marginLeft","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.f3ae0ba6.chunk.js","sourcesContent":["import { useState } from 'react';\nimport {createUseStyles} from 'react-jss'\n\nconst useStyles = createUseStyles({\n  root:{\n    position:'relative',\n  },\n  background:{\n    backgroundSize:'cover',\n    backgroundPosition:'center',\n    backgroundImage:\"url('/images/background.jpg')\",\n    minHeight:'100vh',\n    minWidth:\"100%\",\n    position:'fixed',\n    top:0,\n    left:0,\n    zIndex:-2\n    \n  },\n  overlay:{\n    background:'rgba(0,0,0,.6)',\n    minHeight:'100vh',\n    minWidth:\"100%\",\n    position:'fixed',\n    top:0,\n    left:0,\n    zIndex:-1\n    // backdropFilter: 'blur(4px)'\n  },\n  content:{\n    display:'grid',\n    placeItems:'center',\n    minHeight:'100vh',\n    minWidth:\"100%\",\n  },\n  centerCard:{\n    background:'white',\n    padding:'16px',\n    borderRadius:\"16px\",\n    display:'inline-grid',\n    gridTemplateColumns:'auto auto',\n    // justifyContent:'center',\n    alignItems:'center',\n\n  },\n  footer:{\n    position:'fixed',\n    bottom:'0',\n    background:'rgba(0,0,0,.6)',\n    color:'white',\n    textAlign:'center',\n    paddingTop:'12px',\n    paddingBottom:'12px',\n    width:'100%',    \n  },\n\n  leftContainer:{\n    width:\"100%\",\n    marginRight:'16px'\n  },\n  rightContainer:{\n    \n  },\n  selectedImage:{\n    width:\"250px\",\n    height:'250px',\n    position:'relative',\n    borderRadius:'28px'\n  },\n\n  imageName:{\n    position:'absolute',\n    bottom:0,\n    left:0,\n    width:'100%',\n    textAlign:'center',\n    paddinTop:'8px',\n    paddinBottom:'80px',\n    background:'rgba(0,0,0,.7)',\n    borderRadius:'0px 0px 28px 28px',\n    overflow:'hidden'\n\n  },\n  colName:{\n    padding:\"8px\"\n  },\n  inputNum:{\n    width:'60px',\n    padding:'8px',\n    border:'none',\n    outline:'none',\n    background:'#E2E2E2',\n    borderRadius:'50px',\n    color:'black',\n    textAlign:'center',\n    fontFamily:'Raleway',\n    fontSize:\"1.1rem\",\n    margin:'8px'\n  },\n\n  uploadBtn:{\n    background:\"#FF4230\",\n    color:'white',\n    padding:'8px 16px 8px 16px',\n    borderRadius:'45px',\n    margin:'8px',\n    cursor:'pointer'\n  },\n\n  downloadBtn:{\n    background:'#059E1F',\n    width:'100%',\n    outline:'none',\n    border:'none',\n    padding:'8px',\n    color:'white',\n    fontSize:'1.1rem',\n    borderRadius:\"50px\",\n    cursor:'pointer',\n    transition:'.5s ease',\n    display:'flex',\n    justifyContent:'center',\n    alignItems:'center',\n    '&:hover':{\n      background:\"#00A51C\"\n    }\n\n  },\n\n  inputCol:{\n    display:'flex',\n    justifyContent:'center'\n  },\n  errorBox:{\n    background:'#F8D7DA',\n    border:'1px solid #F5C6CB',\n    padding:'8px',\n    color:'#8B3F46',\n    borderRadius:'35px',\n    textAlign:'center',\n    display:'flex',\n    alignItems:'center',\n    justifyContent:'center',\n    fontSize:'1rem',\n    maxWidth:'450px',\n    margin:\"0 auto\"\n  },\n\n  '@media screen and (max-width: 600px)': {\n    centerCard:{\n      width:'calc(100% - 50px)'\n    },\n    selectedImage:{\n      display:'none'\n    },\n    leftContainer:{\n      gridColumn:\"span 3\"\n    },\n    inputCol:{\n      justifyContent:'flex-end'\n    }\n  },\n\n})\n\nfunction App() {\n  const classes = useStyles();\n  const fileNameLimit = 20;\n  const [selectedImg, setSelectedImg] = useState(null);\n  const [seletedFileName, setSelectedFileName] = useState(null)\n  const [width, setWidth] = useState(\"auto\");\n  const [height, setHeight] = useState(300);\n  const [quality, setQuality] = useState(60)\n  const [error, setError] = useState(null)\n  const [isLoading, setIsLoading] = useState(false);\n  // const [error, setError] = useState(\"There was some error\")\n\n  const handleChangeFile=(e)=>{\n    let file = e.target.files[0];\n    if(file.name.length > fileNameLimit){\n      setSelectedFileName(file.name.substring(0,fileNameLimit)+\"...\")\n    }\n    else{\n      setSelectedFileName(file.name)\n\n    }\n    let reader = new FileReader();\n    reader.readAsDataURL(file);\n    reader.onloadend = () => {\n      \n      setSelectedImg(reader.result);\n    };\n  }\n\n  const handleSubmit = (e)=>{\n    // e.preventDefault();\n    setIsLoading(true)\n    setError(null);\n    fetch('/compress', {\n      method: 'post',\n      body: JSON.stringify({\n        image:selectedImg,\n        width:width,\n        height:height,\n        quality:quality\n      }),\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    })\n    .then(response=>response.json())\n    .then(data=>{\n      setIsLoading(false)\n      if(data.url){\n        const link = document.createElement('a');\n      link.href = data.url;\n      link.target=\"_blank\"\n      link.setAttribute(\n        'download',\n        data.file_name,\n      );\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n      }\n      else if (data.error){\n        setError(data.error)\n      }\n    })\n    \n  }\n\n  return (\n    <div className={classes.root}>\n      <div className={classes.background}/>\n      <div className={classes.overlay}/>\n      <div className={classes.content}>\n        <div className={classes.centerCard}>\n            <div className={classes.leftContainer}>\n              <table width=\"100%\">\n                <tr>\n                  <td className={classes.colName} style={{padding:'16px 8px'}}>Select Image</td>\n                  <td className={classes.inputCol} ><input type=\"file\" id=\"filename\" style={{display:'none'}} accept='.jpg, .jpeg, .png, .bmp' onChange={e=>handleChangeFile(e)}/><label for=\"filename\" className={classes.uploadBtn}>{selectedImg?\"Uploaded\":\"Upload\"}</label></td>\n                </tr>\n\n                <tr>\n                  <td className={classes.colName}>Height (px)</td>\n                  <td className={classes.inputCol}><input type='text' className={classes.inputNum} value={height} onChange={(e)=>setHeight(e.target.value)}></input></td>\n                </tr>\n\n                <tr>\n                  <td className={classes.colName}>Width (px)</td>\n                  <td className={classes.inputCol}><input type='text' className={classes.inputNum} value={width} onChange={e=>setWidth(e.target.value)}></input></td>\n                </tr>\n\n                <tr>\n                  <td className={classes.colName}>Quality (%)</td>\n                  <td className={classes.inputCol}><input type='number' className={classes.inputNum} value={quality} onChange={e=>{\n                    if(e.target.value<1){\n                      setQuality(1)\n                    }else if(e.target.value>100){\n                      setQuality(100)\n                    }\n                    else{\n                      setQuality(e.target.value)\n                    }\n                  }} max={100} min={1}></input></td>\n                </tr>\n              </table>\n            </div>\n\n            <div className={classes.rightContainer}>\n                <div className={classes.selectedImage} style={{backgroundImage:selectedImg?`url(${selectedImg})`:`url(\"https://via.placeholder.com/250x250\")`,backgroundSize:'cover',backgroundPosition:'center'}}>\n                  <div className={classes.imageName}><div style={{position:'relative',padding:\"8px\", color:'white'}}>{seletedFileName?seletedFileName:\"No File Selected\"}</div></div>\n                </div>\n            </div>\n\n            {\n              error && <div style={{gridColumn:'span 2', marginTop:'16px'}}>\n              <div className={classes.errorBox} >\n                <img src='/images/error.svg' style={{marginRight:'8px'}}></img> <span>{error}</span>\n              </div> \n            </div>\n            }\n\n            <div style={{gridColumn:'span 3', marginTop:'16px'}}>\n              <button className={classes.downloadBtn} onClick={e=>handleSubmit(e)} style={isLoading?{pointerEvents:'none'}:{}}>\n                Download Image {isLoading && <img src=\"/images/bars.svg\" style={{marginLeft:'8px', height:'20px'}}/>}\n              </button>\n            </div>\n        </div>\n      </div>\n\n      <footer className={classes.footer}>\n          Copyright © ShrinkImg.Online 2020\n      </footer>\n      \n    </div>\n  )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}